
(function(win,$,undefined){var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],months=['January','February','March','April','May','June','July','August','September','October','November','December'];var Cal=function(mon,year){if(this===win){return new Cal(mon);}
this.date=new Date();if(mon!=null||mon!=undefined){this.month=mon;}else{this.month=this.date.getMonth();}
this.init();return this;};Cal.prototype.init=function(){this.contraints=this.generateConstraints();return this;};Cal.prototype.generateConstraints=function(){var now=new Date(),data={month:{index:this.month,name:months[this.month]}};now.setMonth(this.month);now.setDate(1);data.first={date:now.getDate(),index:now.getDay(),day:days[now.getDay()]};now.setMonth(this.month+1);now.setDate(0);data.last={date:now.getDate(),index:now.getDay(),day:days[now.getDay()]};return data;};Cal.prototype.generate=function(id){var $container,to_append;$container=$('<div />').attr({id:'cal'+this.month}).addClass('cal').append("<h2 class='month_name'>"+months[this.month]+"</h2>");for(var i=0;i<days.length;i++){to_append=$('<div />').addClass('day void dayName').html(days[i]);$container.append(to_append);}
for(var i=0;i<this.contraints.first.index;i++){to_append=$('<div />').addClass('day void').html("&nbsp;");$container.append(to_append);}
for(i=1;i<this.contraints.last.date+1;i++){to_append=$('<div />').addClass('day active').html("<span class='num'>"+i+"</span>");$container.append(to_append);}
$(id).append($container);};win.Cal=Cal;})(window,jQuery);